# Brainstall - Obsidian Log Management Plugin

Brainstallは、Obsidian内でログを効率的に記録・管理するためのプラグインです。メールのように新しいログを追加し、読んだものはアーカイブするというワークフローで、思考の記録と整理を支援します。

## 設計思想

### なぜBrainstallを作ったのか

ログ記録には様々なアプローチがありますが、それぞれに課題があります：

**デイリーログ方式（日付ベース）の課題**
- 日付ごとにファイルを分けるため、関連するログ同士のリンクが作りづらい
- 時系列に沿って情報が分散し、テーマごとの整理が難しい

**ランダムタイトル方式の課題**
- タイトルに統一感がなく、ファイルの区別がつかない
- 後から探索する際に、どのファイルに何が書かれているか分かりづらい

**Brainstallのアプローチ**
- デイリーログのように日付で整理しつつ、ファイル名にタイムスタンプとコンテキストを含める
- これにより、リンクを作りやすく、かつ探索もしやすい構造を実現
- メールのように新しいログを追加し、読んだものはアーカイブするという直感的なワークフロー

### AI連携による拡張

OpenAI、Claude（Anthropic）、GroqのAPI Keyを設定することで、以下のAI機能が利用可能になります：

- **🔍 深掘り（deepDive）**: 選択したコンテンツについて、参照記事をもとにAIが深く分析・要約します
- **📋 リスト化（listify）**: 記事内容をもとに、実践的なチェックリストを自動生成します

これらの機能により、記録したログをより活用しやすくなります。

## 主な機能

### 📋 ログ管理
- ログの一覧表示と検索
- 日付別、タイプ別、ハッシュタグ別のフィルタリング
- 優先度（星の数）による複数選択フィルタ
- アーカイブ機能（読んだログをアーカイブ）
- Topicsへの追加機能（重要なログをトピックフォルダに移動）
- ログの削除

### 🔍 フィルタリング
- **日付フィルタ**: 特定の日付のログを表示
- **タイプフィルタ**: ログタイプによる絞り込み
  - 📝 メモ (memo): 通常のメモログ
  - 📋 リスト (listify): AIで生成されたチェックリスト（AI機能が必要）
  - ⌨️ キーボード入力 (text): 外部ショートカットアプリから連携して作成されたログ
  - 🎤 ボイスメモ (audio): 外部ショートカットアプリから連携して作成された音声ログ
  - 📷 連続撮影 (images): 外部ショートカットアプリから連携して作成された写真ログ
  - 🔍 深掘り (deepDive): AIで深掘り分析したログ（AI機能が必要）
- **ハッシュタグフィルタ**: ハッシュタグによる検索
- **優先度フィルタ**: 星の数（0-5）による複数選択フィルタ
- **アーカイブ表示切り替え**: アーカイブされたログの表示/非表示

### ⚡ 効率的な操作
- **長押しで確認スキップ**: 長押し（1000ms）で確認ダイアログをスキップして即座に実行
- **プログレスバーアニメーション**: 長押し中に視覚的なフィードバックを表示
- **通常クリック**: 確認ダイアログなしで即座に実行
- **キャンセル機能**: 長押しを途中で辞めた場合は実行されません

### 🤖 AI機能（オプション）

OpenAI、Claude、GroqのいずれかのAPI Keyを設定することで、以下の機能が利用できます：

- **🔍 深掘り（deepDive）**
  - 選択したコンテンツやログについて、参照記事をもとにAIが深く分析・要約
  - 関連する記事を読み込み、文脈を理解した上で深掘り記事を生成
  - 新しいログとして保存され、元のログとのリンクが自動で作成される

- **📋 リスト化（listify）**
  - 記事内容をもとに、実践的なチェックリストを自動生成
  - 各項目は「〜して〇〇する」のような行動と意図を含む形式
  - 記事を参照しながら、特定の文脈に関連するアクションを抽出

これらの機能は、記録したログをより活用しやすくするためのものです。AI機能を使わなくても、基本的なログ管理機能は全て利用できます。

### 📊 統計情報
- ログ数の可視化（GitHub風の草グラフ）
- 統計情報の表示

### 📱 モバイル対応
- スマートフォンやタブレットでの利用に対応
- レスポンシブデザイン
- ボトムナビゲーションとの干渉を回避

## インストール方法

### 手動インストール

1. Obsidianのプラグインフォルダを開きます
   - `設定` → `コミュニティプラグイン` → フォルダを開く
2. このリポジトリをクローンまたはダウンロードします
3. `.obsidian/plugins/obsidian-brainstall` フォルダに配置します
4. Obsidianを再起動します
5. `設定` → `コミュニティプラグイン` → `obsidian-brainstall` を有効化します

### 開発モードでのインストール

```bash
cd .obsidian/plugins/obsidian-brainstall
npm install
npm run dev  # 開発モードでビルド
```

## 使い方

### 基本的な操作

1. **ログの表示**
   - コマンドパレット（`Cmd/Ctrl + P`）で「Brainstall: Open View」を実行
   - または、サイドバーに「Brainstall」ビューを追加

2. **フィルタリング**
   - 上部のフィルタバーから日付、タイプ、ハッシュタグ、優先度を選択
   - 複数の条件を組み合わせて絞り込み可能

3. **ログの操作**
   - **通常クリック**: アーカイブ、Topics追加、削除を即座に実行
   - **長押し（1000ms）**: 確認ダイアログをスキップして実行
   - **途中で辞める**: 長押しを途中で辞めた場合は実行されません

### ワークフロー

メールのように、新しいログを追加し、読んだものはアーカイブするという流れで使用します：

1. **新しいログを追加**: 日々の思考や記録をログとして追加
2. **ログを確認**: フィルタリング機能を使って必要なログを探す
3. **アーカイブ**: 読んだログや処理済みのログはアーカイブする
4. **Topicsに移動**: 重要なログや発展させたいログはTopicsフォルダに移動

### アクション

各ログに対して以下のアクションが可能です：

- **📁 アーカイブ**: ログをアーカイブ状態にする（読んだものとしてマーク）
- **📁 復元**: アーカイブされたログを復元する
- **Topicsに追加**: 関連するトピックフォルダに移動（より詳細に展開したい場合）
- **🗑️ 削除**: ログを削除

### AI機能の使い方

**深掘り機能**
1. 参照したい記事やログを開く
2. 深掘りしたいコンテンツを選択（または全体を対象にする）
3. 「🔍 深掘り」ボタンをクリック
4. AIが分析し、新しい深掘りログが作成される

**リスト化機能**
1. 参照したい記事を開く
2. リスト化したいコンテンツを入力
3. 「📋 リスト化」ボタンをクリック
4. AIがチェックリストを生成し、新しいログとして保存される

### 外部ショートカットとの連携

キーボード入力（text）、ボイスメモ（audio）、連続撮影（images）のタイプは、プラグイン内には実装されておらず、外部のショートカットアプリ（iOSのショートカットアプリなど）と連携する形を想定しています。

これらのタイプのログは、ショートカットアプリからObsidianのファイルシステムに直接ログファイルを作成することで実現できます。ログファイルには以下のfrontmatterを含める必要があります：

```yaml
---
type: text  # または audio、images
created: "2025-10-31T12:00:00.000Z"
---
```

ショートカットアプリで作成したログファイルをログフォルダに保存することで、Brainstallで表示・管理できます。

## 設定

プラグインの設定は `設定` → `Brainstall` から行えます。

### 基本設定

- **ログフォルダ**: ログファイルが保存されるフォルダ（デフォルト: `Archives/Notifications`）
- **Topicsフォルダ**: Topicsが保存されるフォルダ（デフォルト: `Topics`）
- **タイムスタンプ形式**: ファイル名のタイムスタンプ形式（`YYYYMMDD_HHmmss` または `ISO`）

### AI機能設定（オプション）

AI機能を使用する場合は、以下の設定が必要です：

1. **プロバイダー選択**: OpenAI、Claude（Anthropic）、Groqのいずれかを選択
2. **モデル選択**: 選択したプロバイダーで利用可能なモデルから選択
3. **API Key入力**: 選択したプロバイダーのAPI Keyを入力
   - OpenAI: [API Keys](https://platform.openai.com/api-keys)
   - Claude: [API Keys](https://console.anthropic.com/settings/keys)
   - Groq: [API Keys](https://console.groq.com/keys)

AI機能はオプションです。API Keyを設定しなくても、基本的なログ管理機能は全て利用できます。

## 技術仕様

### 対応環境
- Obsidian: 0.15.0 以降
- デスクトップ・モバイル両対応

### 主な技術スタック
- TypeScript
- React
- CodeMirror

## ライセンス

MIT License

## 作者

AIGRAM Inc.

## 更新履歴

### 0.1.0
- 初回リリース
- ログの表示・フィルタリング機能
- アーカイブ、Topics追加、削除機能
- 長押しで確認スキップ機能
- プログレスバーアニメーション
- AI機能（深掘り、リスト化）
- OpenAI、Claude、Groq対応
- モバイル対応

## トラブルシューティング

### ログが表示されない
- ログフォルダの設定を確認してください
- ファイルが正しいフォルダに配置されているか確認してください

### AI機能が動作しない
- API Keyが正しく設定されているか確認してください
- プロバイダーとモデルの組み合わせが正しいか確認してください
- ネットワーク接続を確認してください
- API Keyの有効期限や使用制限を確認してください

### 長押しが機能しない
- 1000ms（1秒）以上長押ししてください
- プログレスバーが100%に達するまで待ってください

### モバイルでレイアウトが崩れる
- Obsidianを最新版に更新してください
- プラグインを再読み込みしてください

## サポート

問題や機能要望がある場合は、GitHubのIssuesでお知らせください。

---

**お疲れ様でした！** 🎉
